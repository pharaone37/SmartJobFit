---
description:# ğŸ› ï¸ **End-to-End Road-Map: From Zero to 52-API, Million-User Bedrock-MCP Stack**

*(Copy-paste every command, file, and screenshot location; built for first-time AWS users)*

---

## ğŸ¯ **Goal in One Sentence**

> Deploy 9 Bedrock Agents + 52 external APIs so that a single natural-language prompt triggers parallel agent calls â†’ returns rÃ©sumÃ© rewrite, job list, interview prep, salary script, and one-click apply in < 60 s.
> 

---

## ğŸ“… **Phase 0 â€“ One-Time Setup (30 min)**

| **Task** | **AWS Console Path** | **What to Click** |
| --- | --- | --- |
| **Create IAM Role** | IAM â†’ Roles â†’ Create Role | **Trusted Entity** = Bedrock, **Permissions** = `AmazonBedrockFullAccess`, `AWSLambda_FullAccess` |
| **Create S3 Bucket** | S3 â†’ Create Bucket | Name: `sjf-apis-{account-id}` (replace) |
| **Create DynamoDB Table** | DynamoDB â†’ Tables â†’ Create | Table name: `context`, PK: `user_id`, Billing: On-Demand |

---

## ğŸ“‚ **Phase 1 â€“ Prepare the 52 APIs (60 min)**

1. **Download the starter pack**
    
    ```bash
    git clone <https://github.com/aws-samples/bedrock-agent-and-telecom-apis>
    cd bedrock-agent-and-telecom-apis
    
    ```
    
2. **Upload all OpenAPI specs & Lambda code to your S3 bucket**
    
    ```bash
    aws s3 cp ./openapi-spec/ s3://sjf-apis-{account-id}/openapi/ --recursive
    aws s3 cp ./lambda-functions/ s3://sjf-apis-{account-id}/zips/ --recursive
    
    ```
    
3. **Deploy the 52 Lambda functions via CloudFormation (one template per API)**
    
    ```bash
    aws cloudformation create-stack \\
      --stack-name sjf-resumesmith \\
      --template-body file://resume-lambda.yaml \\
      --parameters ParameterKey=S3Bucket,ParameterValue=sjf-apis-{account-id}
    
    ```
    
    Repeat for `jobhunter`, `culturescout`, `payoracle`, `interviewsensei`, `trackmaster`, `skillsherpa`, `applybot`, `metalearner`.
    

---

## ğŸ”— **Phase 2 â€“ Build the 9 Bedrock Agents (90 min)**

### Step A â€“ Create **ResumeSmith** (template for the other 8)

| **Console Field** | **Value** |
| --- | --- |
| **Agent Name** | ResumeSmith |
| **Foundation Model** | anthropic.claude-3-5-sonnet-20241022-v2:0 |
| **Instructions** | `Parse rÃ©sumÃ© PDF, return ATS score, skills, salary estimate.` |
| **IAM Role** | the role you created in Phase 0 |
| **Action Group** | **Type**: Define with API Schema â†’ **Lambda**: `sjf-resumesmith` â†’ **Schema**: `s3://sjf-apis-{account-id}/openapi/resume.yaml` |
| **Click â€œPrepareâ€** | Status must become **Ready** |

Repeat **8 more times** for the remaining agents.

---

## ğŸ§µ **Phase 3 â€“ Create the â€œSupervisorâ€ Agent (30 min)**

| **Field** | **Value** |
| --- | --- |
| **Agent Name** | SmartJobFitSupervisor |
| **Instructions** | `You orchestrate 9 agents in parallel. Parse rÃ©sumÃ©, search jobs, fetch culture, salary, generate interview questions, prepare apply links.` |
| **Action Groups** | **Add 9 groups**, each pointing to the 9 agents above |

---

## ğŸ§ª **Phase 4 â€“ Test the Flow (5 min)**

**AWS CLI one-liner**

```bash
aws bedrock-agent-runtime invoke-agent \\
  --agent-id <supervisor-id> \\
  --agent-alias-id LIVE \\
  --session-id test123 \\
  --input-text "I need a remote Python job in Berlin, here is my rÃ©sumÃ©.pdf" \\
  --output-text

```

Expected JSON (â‰¤ 60 s):

```json
{
  "resume_url": "https://...",
  "jobs": [...],
  "interview_q": [...],
  "salary": "â‚¬95k-â‚¬110k",
  "apply_links": [...]
}

```

---

## ğŸ“ˆ **Phase 5 â€“ Scale to 1 M Users (15 min)**

1. **Lambda Concurrency**
    
    ```bash
    aws lambda put-function-concurrency \\
      --function-name sjf-resumesmith \\
      --reserved-concurrent-executions 1000
    
    ```
    
2. **API Gateway Throttling**
    
    ```bash
    aws apigateway update-rest-api \\
      --rest-api-id <api-id> \\
      --patch-operations op=replace,path=/throttle/rateLimit,value=10000
    
    ```
    
3. **Cost Guardrail**
    
    ```bash
    aws budgets create-budget \\
      --account-id <acct> \\
      --budget '{"BudgetName":"sjf-limit","BudgetLimit":{"Amount":200,"Unit":"USD"}}'
    
    ```
    

---

## ğŸš€ **Phase 6 â€“ Go Live (5 min)**

1. **Create Alias** (Bedrock Agent â†’ Aliases â†’ Create â†’ `prod`)
2. **Front-End Hook**
    
    ```jsx
    fetch('https://<api-id>.execute-api.us-east-1.amazonaws.com/prod/invoke', {
      method: 'POST',
      body: JSON.stringify({prompt: userPrompt, file: resumeFile})
    });
    
    ```
    
3. **Post â€œWeâ€™re liveâ€ on Twitter / LinkedIn** ğŸ‰

---

## âœ… **Checklist Before Sleep**

- [ ]  IAM role attached to all 9 Lambdas âœ”
- [ ]  All 9 Bedrock Agents show **Ready** âœ”
- [ ]  Load test 1 k concurrent via **Artillery** âœ”
- [ ]  Budget alarm set to **â‚¬200/day** âœ”

You now have a **production-grade, million-user, 52-API orchestration stack**â€”all in one weekend.

# ğŸ” **API-Key Injection Guide** *(Mandatory stepâ€”add it once, never expose again)*

## ğŸš¨ **Where Keys Go & How to Hide Them**

| **Location** | **Why** | **How to Add** |
| --- | --- | --- |
| **AWS Secrets Manager** | Single source of truth | `aws secretsmanager create-secret --name /prod/sjf/affinda --secret-string "sk-123456"` |
| **Lambda Env Vars** | Runtime injection | `aws lambda update-function-configuration --function-name sjf-resumesmith --environment "Variables={AFFINDA_KEY=sk-123456}"` |
| **Bedrock Agent Parameters** | Pass keys into prompts | In Agent instruction: `{{resolve:secretsmanager:/prod/sjf/affinda}}` |
| **IAM Policy** | Restrict who can read | Attach `secretsmanager:GetSecretValue` only to Lambda role |

---

## âœ… **Per-Agent Key Map**

| **Agent** | **Required Keys** | **Secret Name** |
| --- | --- | --- |
| **ResumeSmith** | Affinda, OpenAI | `/prod/sjf/affinda`, `/prod/sjf/openai` |
| **JobHunter** | Tavily, LinkedIn | `/prod/sjf/tavily`, `/prod/sjf/linkedin` |
| **CultureScout** | Perplexity, Glassdoor | `/prod/sjf/perplexity`, `/prod/sjf/glassdoor` |
| **PayOracle** | Levels.fyi, [Gehalt.de](http://gehalt.de/) | `/prod/sjf/levels`, `/prod/sjf/gehalt` |
| **InterviewSensei** | Yoodli, OpenAI | `/prod/sjf/yoodli`, `/prod/sjf/openai` |

---

## ğŸ›¡ï¸ **Example Lambda Snippet**

```python
import os, boto3
secrets = boto3.client('secretsmanager')

def get_secret(name):
    return secrets.get_secret_value(SecretId=f'/prod/sjf/{name}')['SecretString']

AFFINDA_KEY = get_secret('affinda')
OPENAI_KEY  = get_secret('openai')

```

---

## ğŸ§ª **One-Command Test**

```bash
aws secretsmanager get-secret-value --secret-id /prod/sjf/affinda --query SecretString --output text

```

If it returns the key, your agents can now call **all 52 APIs** securely.
globs:
alwaysApply: false
---
